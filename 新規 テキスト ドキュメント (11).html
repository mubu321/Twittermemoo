<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Twitter UI Clone - Note Taking App</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }
    
    body {
      background-color: #000;
      color: #fff;
      max-width: 100%;
      overflow-x: hidden;
    }
    
    .container {
      display: flex;
      width: 100%;
      height: 100vh;
    }
    
    .sidebar {
      width: 275px;
      padding: 0 12px;
      border-right: 1px solid #2f3336;
    }
    
    .sidebar-logo {
      height: 50px;
      width: 50px;
      margin: 12px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .sidebar-logo:hover {
      background-color: rgba(29, 155, 240, 0.1);
      cursor: pointer;
    }
    
    .sidebar-logo svg {
      fill: #fff;
      height: 30px;
    }
    
    .nav-item {
      display: flex;
      align-items: center;
      padding: 12px;
      margin: 4px 0;
      border-radius: 9999px;
      font-size: 20px;
      font-weight: 400;
    }
    
    .nav-item:hover {
      background-color: rgba(255, 255, 255, 0.1);
      cursor: pointer;
    }
    
    .nav-item svg {
      height: 26px;
      width: 26px;
      margin-right: 20px;
      fill: #fff;
    }
    
    .nav-item.active {
      font-weight: 700;
    }
    
    .post-btn {
      background-color: #1d9bf0;
      color: #fff;
      border: none;
      border-radius: 9999px;
      padding: 16px;
      width: 90%;
      margin: 16px 0;
      font-size: 17px;
      font-weight: 700;
      cursor: pointer;
    }
    
    .post-btn:hover {
      background-color: #1a8cd8;
    }
    
    .main {
      flex: 1;
      border-right: 1px solid #2f3336;
      max-width: 600px;
    }
    
    .header {
      padding: 16px;
      border-bottom: 1px solid #2f3336;
      position: sticky;
      top: 0;
      backdrop-filter: blur(12px);
      background-color: rgba(0, 0, 0, 0.65);
      z-index: 10;
    }
    
    .header h2 {
      font-size: 20px;
      font-weight: 700;
    }
    
    .compose {
      padding: 16px;
      border-bottom: 1px solid #2f3336;
      display: flex;
    }
    
    .avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background-color: #2f3336;
      margin-right: 12px;
      overflow: hidden;
    }
    
    .compose-input {
      flex: 1;
    }
    
    .compose-input textarea {
      width: 100%;
      border: none;
      background: transparent;
      color: #fff;
      font-size: 20px;
      outline: none;
      resize: none;
      padding: 12px 0;
      min-height: 60px;
    }
    
    .compose-input textarea::placeholder {
      color: #6e767d;
    }
    
    .compose-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 12px;
    }
    
    .compose-tools {
      display: flex;
    }
    
    .compose-tools .tool {
      width: 34px;
      height: 34px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 4px;
      cursor: pointer;
    }
    
    .compose-tools .tool:hover {
      background-color: rgba(29, 155, 240, 0.1);
    }
    
    .compose-tools svg {
      fill: #1d9bf0;
      width: 20px;
      height: 20px;
    }
    
    .compose-btn {
      background-color: #1d9bf0;
      color: #fff;
      border: none;
      border-radius: 9999px;
      padding: 8px 16px;
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
    }
    
    .compose-btn:disabled {
      background-color: #1a8cd8;
      opacity: 0.5;
      cursor: default;
    }
    
    .feed {
      padding-bottom: 200px;
    }
    
    .tweet {
      padding: 12px 16px;
      border-bottom: 1px solid #2f3336;
      display: flex;
      cursor: pointer;
    }
    
    .tweet:hover {
      background-color: rgba(255, 255, 255, 0.03);
    }
    
    .tweet-content {
      flex: 1;
      margin-left: 12px;
    }
    
    .tweet-header {
      display: flex;
      align-items: center;
      margin-bottom: 4px;
    }
    
    .tweet-user {
      font-weight: 700;
      margin-right: 4px;
    }
    
    .tweet-username {
      color: #6e767d;
      margin-right: 4px;
    }
    
    .tweet-time {
      color: #6e767d;
    }
    
    .tweet-actions {
      display: flex;
      justify-content: space-between;
      margin-top: 12px;
      max-width: 425px;
    }
    
    .tweet-action {
      display: flex;
      align-items: center;
      color: #6e767d;
      font-size: 13px;
    }
    
    .tweet-action svg {
      width: 18px;
      height: 18px;
      margin-right: 8px;
      fill: #6e767d;
    }
    
    .tweet-action:hover {
      color: #1d9bf0;
    }
    
    .tweet-action:hover svg {
      fill: #1d9bf0;
    }
    
    .trends {
      flex: 0.6;
      padding: 0 16px;
    }
    
    .search {
      position: sticky;
      top: 0;
      padding: 12px 0;
      z-index: 1;
      background-color: #000;
    }
    
    .search-input {
      background-color: #202327;
      border-radius: 9999px;
      padding: 12px;
      display: flex;
      align-items: center;
    }
    
    .search-input svg {
      width: 18px;
      height: 18px;
      fill: #6e767d;
      margin-right: 8px;
    }
    
    .search-input input {
      background: transparent;
      border: none;
      color: #fff;
      outline: none;
      width: 100%;
    }
    
    .widget {
      background-color: #16181c;
      border-radius: 16px;
      margin: 16px 0;
      overflow: hidden;
    }
    
    .widget-header {
      padding: 12px 16px;
      font-size: 20px;
      font-weight: 800;
      border-bottom: 1px solid #2f3336;
    }
    
    .widget-content {
      padding: 16px;
    }
    
    .widget-footer {
      padding: 16px;
      color: #1d9bf0;
      cursor: pointer;
    }
    
    .widget-footer:hover {
      background-color: rgba(255, 255, 255, 0.03);
    }
    
    .trend-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .trend-item:hover {
      background-color: rgba(255, 255, 255, 0.03);
    }
    
    .trend-item .category {
      font-size: 13px;
      color: #6e767d;
    }
    
    .trend-item .title {
      font-weight: 700;
      margin: 2px 0;
    }
    
    .trend-item .tweets {
      font-size: 13px;
      color: #6e767d;
    }
    
    /* Responsiveness */
    @media (max-width: 1280px) {
      .trends {
        display: none;
      }
    }
    
    @media (max-width: 500px) {
      .sidebar {
        width: 88px;
        padding: 0 8px;
      }
      
      .sidebar .nav-text {
        display: none;
      }
      
      .sidebar .nav-item {
        justify-content: center;
        padding: 12px;
      }
      
      .sidebar .nav-item svg {
        margin-right: 0;
      }
      
      .sidebar .post-btn {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        margin: 16px auto;
      }
      
      .sidebar .post-btn span {
        display: none;
      }
      
      .sidebar .post-btn::after {
        content: "+";
        font-size: 24px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-logo">
        <svg viewBox="0 0 24 24">
          <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
        </svg>
      </div>
      
      <div class="nav-item active">
        <svg viewBox="0 0 24 24">
          <path d="M12 1.696L.622 8.807l1.06 1.696L3 9.679V19.5C3 20.881 4.119 22 5.5 22h13c1.381 0 2.5-1.119 2.5-2.5V9.679l1.318.824 1.06-1.696L12 1.696zM12 16.5c-1.933 0-3.5-1.567-3.5-3.5s1.567-3.5 3.5-3.5 3.5 1.567 3.5 3.5-1.567 3.5-3.5 3.5z"></path>
        </svg>
        <span class="nav-text">Home</span>
      </div>
      
      <div class="nav-item">
        <svg viewBox="0 0 24 24">
          <path d="M10.25 3.75c-3.59 0-6.5 2.91-6.5 6.5s2.91 6.5 6.5 6.5c1.795 0 3.419-.726 4.596-1.904 1.178-1.177 1.904-2.801 1.904-4.596 0-3.59-2.91-6.5-6.5-6.5zm-8.5 6.5c0-4.694 3.806-8.5 8.5-8.5s8.5 3.806 8.5 8.5c0 1.986-.682 3.815-1.824 5.262l4.781 4.781-1.414 1.414-4.781-4.781c-1.447 1.142-3.276 1.824-5.262 1.824-4.694 0-8.5-3.806-8.5-8.5z"></path>
        </svg>
        <span class="nav-text">Explore</span>
      </div>
      
      <div class="nav-item">
        <svg viewBox="0 0 24 24">
          <path d="M19.993 9.042C19.48 5.017 16.054 2 11.996 2s-7.49 3.021-7.999 7.051L2.866 18H7.1c.463 2.282 2.481 4 4.9 4s4.437-1.718 4.9-4h4.236l-1.143-8.958zM12 20c-1.306 0-2.417-.835-2.829-2h5.658c-.412 1.165-1.523 2-2.829 2zm-6.866-4l.847-6.698C6.364 6.272 8.941 4 11.996 4s5.627 2.268 6.013 5.295L18.864 16H5.134z"></path>
        </svg>
        <span class="nav-text">Notifications</span>
      </div>
      
      <div class="nav-item">
        <svg viewBox="0 0 24 24">
          <path d="M1.998 5.5c0-1.381 1.119-2.5 2.5-2.5h15c1.381 0 2.5 1.119 2.5 2.5v13c0 1.381-1.119 2.5-2.5 2.5h-15c-1.381 0-2.5-1.119-2.5-2.5v-13zm2.5-.5c-.276 0-.5.224-.5.5v2.764l8 3.638 8-3.636V5.5c0-.276-.224-.5-.5-.5h-15zm15.5 5.463l-8 3.636-8-3.638V18.5c0 .276.224.5.5.5h15c.276 0 .5-.224.5-.5v-8.037z"></path>
        </svg>
        <span class="nav-text">Messages</span>
      </div>
      
      <div class="nav-item">
        <svg viewBox="0 0 24 24">
          <path d="M3 4.5C3 3.12 4.12 2 5.5 2h13C19.88 2 21 3.12 21 4.5v15c0 1.38-1.12 2.5-2.5 2.5h-13C4.12 22 3 20.88 3 19.5v-15zM5.5 4c-.28 0-.5.22-.5.5v15c0 .28.22.5.5.5h13c.28 0 .5-.22.5-.5v-15c0-.28-.22-.5-.5-.5h-13zM16 10H8V8h8v2zm-8 2h8v2H8v-2z"></path>
        </svg>
        <span class="nav-text">Notes</span>
      </div>
      
      <div class="nav-item">
        <svg viewBox="0 0 24 24">
          <path d="M5.651 19h12.698c-.337-1.8-1.023-3.21-1.945-4.19C15.318 13.65 13.838 13 12 13s-3.317.65-4.404 1.81c-.922.98-1.608 2.39-1.945 4.19zm.486-5.56C7.627 11.85 9.648 11 12 11s4.373.85 5.863 2.44c1.477 1.58 2.366 3.8 2.632 6.46l.11 1.1H3.395l.11-1.1c.266-2.66 1.155-4.88 2.632-6.46zM12 4c-1.105 0-2 .9-2 2s.895 2 2 2 2-.9 2-2-.895-2-2-2zM8 6c0-2.21 1.791-4 4-4s4 1.79 4 4-1.791 4-4 4-4-1.79-4-4z"></path>
        </svg>
        <span class="nav-text">Profile</span>
      </div>
      
      <button class="post-btn">
        <span>Post</span>
      </button>
    </div>
    
    <!-- Main content -->
    <div class="main">
      <div class="header">
        <h2>Notes</h2>
      </div>
      
      <div class="compose">
        <div class="avatar"></div>
        <div class="compose-input">
          <textarea id="compose-textarea" placeholder="What's happening?"></textarea>
          <div class="compose-actions">
            <div class="compose-tools">
              <div class="tool">
                <svg viewBox="0 0 24 24">
                  <path d="M3 5.5C3 4.119 4.119 3 5.5 3h13C19.881 3 21 4.119 21 5.5v13c0 1.381-1.119 2.5-2.5 2.5h-13C4.119 21 3 19.881 3 18.5v-13zM5.5 5c-.276 0-.5.224-.5.5v9.086l3-3 3 3 5-5 3 3V5.5c0-.276-.224-.5-.5-.5h-13zM19 15.414l-3-3-5 5-3-3-3 3V18.5c0 .276.224.5.5.5h13c.276 0 .5-.224.5-.5v-3.086zM9.75 7C8.784 7 8 7.784 8 8.75s.784 1.75 1.75 1.75 1.75-.784 1.75-1.75S10.716 7 9.75 7z"></path>
                </svg>
              </div>
              <div class="tool">
                <svg viewBox="0 0 24 24">
                  <path d="M3 5.5C3 4.119 4.12 3 5.5 3h13C19.88 3 21 4.119 21 5.5v13c0 1.381-1.12 2.5-2.5 2.5h-13C4.12 21 3 19.881 3 18.5v-13zM5.5 5c-.28 0-.5.224-.5.5v13c0 .276.22.5.5.5h13c.28 0 .5-.224.5-.5v-13c0-.276-.22-.5-.5-.5h-13zm5.5 7c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S11 13.38 11 12zm-4-1.5c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm.5-1.5C6.12 9 5 7.88 5 6.5S6.12 4 7.5 4 10 5.12 10 6.5 8.88 9 7.5 9z"></path>
                </svg>
              </div>
              <div class="tool">
                <svg viewBox="0 0 24 24">
                  <path d="M6 5c-1.1 0-2 .895-2 2s.9 2 2 2 2-.895 2-2-.9-2-2-2zm12 0c-1.1 0-2 .895-2 2s.9 2 2 2 2-.895 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .895-2 2s.9 2 2 2 2-.895 2-2-.9-2-2-2z"></path>
                </svg>
              </div>
            </div>
            <button id="post-button" class="compose-btn" disabled>Post</button>
          </div>
        </div>
      </div>
      
      <div id="feed" class="feed">
        <!-- Notes will be displayed here -->
      </div>
    </div>
    
    <!-- Trends section -->
    <div class="trends">
      <div class="search">
        <div class="search-input">
          <svg viewBox="0 0 24 24">
            <path d="M10.25 3.75c-3.59 0-6.5 2.91-6.5 6.5s2.91 6.5 6.5 6.5c1.795 0 3.419-.726 4.596-1.904 1.178-1.177 1.904-2.801 1.904-4.596 0-3.59-2.91-6.5-6.5-6.5zm-8.5 6.5c0-4.694 3.806-8.5 8.5-8.5s8.5 3.806 8.5 8.5c0 1.986-.682 3.815-1.824 5.262l4.781 4.781-1.414 1.414-4.781-4.781c-1.447 1.142-3.276 1.824-5.262 1.824-4.694 0-8.5-3.806-8.5-8.5z"></path>
          </svg>
          <input type="text" placeholder="Search Twitter" id="search-input">
        </div>
      </div>
      
      <div class="widget">
        <div class="widget-header">
          What's happening
        </div>
        
        <div class="trend-item">
          <div class="category">Trending in Technology</div>
          <div class="title">Web Development</div>
          <div class="tweets">12.4K posts</div>
        </div>
        
        <div class="trend-item">
          <div class="category">Trending in Programming</div>
          <div class="title">JavaScript</div>
          <div class="tweets">8.2K posts</div>
        </div>
        
        <div class="trend-item">
          <div class="category">Trending in Design</div>
          <div class="title">UI/UX</div>
          <div class="tweets">5.7K posts</div>
        </div>
        
        <div class="widget-footer">
          Show more
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // DOM elements
      const composeTextarea = document.getElementById('compose-textarea');
      const postButton = document.getElementById('post-button');
      const feed = document.getElementById('feed');
      const searchInput = document.getElementById('search-input');
      
      // Enable/disable post button based on textarea content
      composeTextarea.addEventListener('input', function() {
        postButton.disabled = this.value.trim() === '';
      });
      
      // Load notes from localStorage
      loadNotes();
      
      // Add event listener to post button
      postButton.addEventListener('click', function() {
        const content = composeTextarea.value.trim();
        if (content) {
          addNote(content);
          composeTextarea.value = '';
          postButton.disabled = true;
        }
      });
      
      // Add event listener to search input
      searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase().trim();
        filterNotes(searchTerm);
      });
      
      // Function to add a new note
      function addNote(content) {
        const notes = getNotes();
        const newNote = {
          id: Date.now(),
          content: content,
          timestamp: new Date().toISOString(),
          likes: 0,
          retweets: 0,
          replies: 0
        };
        
        notes.unshift(newNote);
        saveNotes(notes);
        renderNote(newNote, true);
      }
      
      // Function to get notes from localStorage
      function getNotes() {
        const notes = localStorage.getItem('twitter-notes');
        return notes ? JSON.parse(notes) : [];
      }
      
      // Function to save notes to localStorage
      function saveNotes(notes) {
        localStorage.setItem('twitter-notes', JSON.stringify(notes));
      }
      
      // Function to load and display notes
      function loadNotes() {
        const notes = getNotes();
        feed.innerHTML = '';
        
        if (notes.length === 0) {
          feed.innerHTML = `
            <div style="padding: 30px 16px; text-align: center; color: #6e767d;">
              <h3>No notes yet</h3>
              <p>Your notes will appear here.</p>
            </div>
          `;
          return;
        }
        
        notes.forEach(note => {
          renderNote(note);
        });
      }
      
      // Function to render a single note
      function renderNote(note, isNew = false) {
        const noteElement = document.createElement('div');
        noteElement.className = 'tweet';
        noteElement.dataset.id = note.id;
        
        if (isNew) {
          noteElement.style.animation = 'fadeIn 0.5s';
        }
        
        const timestamp = new Date(note.timestamp);
        const formattedDate = formatDate(timestamp);
        
        noteElement.innerHTML = `
          <div class="avatar"></div>
          <div class="tweet-content">
            <div class="tweet-header">
              <span class="tweet-user">You</span>
              <span class="tweet-username">@user</span>
              <span class="tweet-time">· ${formattedDate}</span>
            </div>
            <div class="tweet-text">${formatContent(note.content)}</div>
            <div class="tweet-actions">
              <div class="tweet-action reply-action" data-id="${note.id}">
                <svg viewBox="0 0 24 24">
                  <path d="M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01zm8.005-6c-3.317 0-6.005 2.69-6.005 6 0 3.37 2.77 6.08 6.138 6.01l.351-.01h1.761v2.3l5.087-2.81c1.951-1.08 3.163-3.13 3.163-5.36 0-3.39-2.744-6.13-6.129-6.13H9.756z"></path>
                </svg>
                <span>${note.replies}</span>
              </div>
              <div class="tweet-action retweet-action" data-id="${note.id}">
                <svg viewBox="0 0 24 24">
                  <path d="M4.5 3.88l4.432 4.14-1.364 1.46L5.5 7.55V16c0 1.1.896 2 2 2H13v2H7.5c-2.209 0-4-1.79-4-4V7.55L1.432 9.48.068 8.02 4.5 3.88zM16.5 6H11V4h5.5c2.209 0 4 1.79 4 4v8.45l2.068-1.93 1.364 1.46-4.432 4.14-4.432-4.14 1.364-1.46 2.068 1.93V8c0-1.1-.896-2-2-2z"></path>
                </svg>
                <span>${note.retweets}</span>
              </div>
              <div class="tweet-action like-action" data-id="${note.id}">
                <svg viewBox="0 0 24 24">
                  <path d="M16.697 5.5c-1.222-.06-2.679.51-3.89 2.16l-.805 1.09-.806-1.09C9.984 6.01 8.526 5.44 7.304 5.5c-1.243.07-2.349.78-2.91 1.91-.552 1.12-.633 2.78.479 4.82 1.074 1.97 3.257 4.27 7.129 6.61 3.87-2.34 6.052-4.64 7.126-6.61 1.111-2.04 1.03-3.7.477-4.82-.561-1.13-1.666-1.84-2.908-1.91zm4.187 7.69c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5--1.03-3.7.477-4.82-.561-1.13-1.666-1.84-2.908-1.91zm4.187 7.69c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"></path>
                </svg>
                <span>${note.likes}</span>
              </div>
              <div class="tweet-action delete-action" data-id="${note.id}">
                <svg viewBox="0 0 24 24">
                  <path d="M16 6V4.5C16 3.12 14.88 2 13.5 2h-3C9.11 2 8 3.12 8 4.5V6H3v2h1.06l.81 11.21C4.98 20.78 6.28 22 7.86 22h8.27c1.58 0 2.88-1.22 3-2.79L19.93 8H21V6h-5zm-6-1.5c0-.28.22-.5.5-.5h3c.27 0 .5.22.5.5V6h-4V4.5zm7.13 14.57c-.04.52-.47.93-1 .93H7.86c-.53 0-.96-.41-1-.93L6.07 8h11.85l-.79 11.07z"></path>
                </svg>
                <span>Delete</span>
              </div>
            </div>
          </div>
        `;
        
        if (isNew) {
          feed.insertBefore(noteElement, feed.firstChild);
        } else {
          feed.appendChild(noteElement);
        }
        
        // Add event listeners to the note actions
        const replyAction = noteElement.querySelector('.reply-action');
        const retweetAction = noteElement.querySelector('.retweet-action');
        const likeAction = noteElement.querySelector('.like-action');
        const deleteAction = noteElement.querySelector('.delete-action');
        
        replyAction.addEventListener('click', function(e) {
          e.stopPropagation();
          const noteId = parseInt(this.dataset.id);
          composeTextarea.focus();
          composeTextarea.value = `Replying to note #${noteId}: `;
          composeTextarea.dispatchEvent(new Event('input'));
        });
        
        retweetAction.addEventListener('click', function(e) {
          e.stopPropagation();
          const noteId = parseInt(this.dataset.id);
          const notes = getNotes();
          const noteIndex = notes.findIndex(n => n.id === noteId);
          
          if (noteIndex !== -1) {
            notes[noteIndex].retweets++;
            saveNotes(notes);
            this.querySelector('span').textContent = notes[noteIndex].retweets;
            this.querySelector('svg').style.fill = '#00ba7c';
          }
        });
        
        likeAction.addEventListener('click', function(e) {
          e.stopPropagation();
          const noteId = parseInt(this.dataset.id);
          const notes = getNotes();
          const noteIndex = notes.findIndex(n => n.id === noteId);
          
          if (noteIndex !== -1) {
            notes[noteIndex].likes++;
            saveNotes(notes);
            this.querySelector('span').textContent = notes[noteIndex].likes;
            this.querySelector('svg').style.fill = '#f91880';
          }
        });
        
        deleteAction.addEventListener('click', function(e) {
          e.stopPropagation();
          const noteId = parseInt(this.dataset.id);
          deleteNote(noteId);
        });
        
        // Add click event to edit note
        noteElement.addEventListener('click', function() {
          const noteId = parseInt(this.dataset.id);
          editNote(noteId);
        });
      }
      
      // Function to delete a note
      function deleteNote(noteId) {
        if (confirm('Are you sure you want to delete this note?')) {
          const notes = getNotes();
          const filteredNotes = notes.filter(note => note.id !== noteId);
          saveNotes(filteredNotes);
          
          const noteElement = document.querySelector(`.tweet[data-id="${noteId}"]`);
          if (noteElement) {
            noteElement.style.animation = 'fadeOut 0.3s';
            setTimeout(() => {
              noteElement.remove();
              if (filteredNotes.length === 0) {
                loadNotes(); // Show the "No notes yet" message
              }
            }, 300);
          }
        }
      }
      
      // Function to edit a note
      function editNote(noteId) {
        const notes = getNotes();
        const note = notes.find(n => n.id === noteId);
        
        if (note) {
          const newContent = prompt('Edit your note:', note.content);
          if (newContent !== null && newContent.trim() !== '') {
            note.content = newContent.trim();
            note.timestamp = new Date().toISOString(); // Update timestamp
            saveNotes(notes);
            
            // Update the note in the UI
            const noteElement = document.querySelector(`.tweet[data-id="${noteId}"]`);
            if (noteElement) {
              const tweetText = noteElement.querySelector('.tweet-text');
              tweetText.innerHTML = formatContent(note.content);
              
              const tweetTime = noteElement.querySelector('.tweet-time');
              tweetTime.textContent = `· ${formatDate(new Date(note.timestamp))}`;
            }
          }
        }
      }
      
      // Function to filter notes based on search term
      function filterNotes(searchTerm) {
        const notes = getNotes();
        
        if (!searchTerm) {
          loadNotes();
          return;
        }
        
        const filteredNotes = notes.filter(note => 
          note.content.toLowerCase().includes(searchTerm)
        );
        
        feed.innerHTML = '';
        
        if (filteredNotes.length === 0) {
          feed.innerHTML = `
            <div style="padding: 30px 16px; text-align: center; color: #6e767d;">
              <h3>No results found</h3>
              <p>Try searching for something else.</p>
            </div>
          `;
          return;
        }
        
        filteredNotes.forEach(note => {
          renderNote(note);
        });
      }
      
      // Function to format the date
      function formatDate(date) {
        const now = new Date();
        const diff = now - date;
        
        // Within the last minute
        if (diff < 60000) {
          return 'just now';
        }
        
        // Within the last hour
        if (diff < 3600000) {
          const minutes = Math.floor(diff / 60000);
          return `${minutes}m`;
        }
        
        // Within the last day
        if (diff < 86400000) {
          const hours = Math.floor(diff / 3600000);
          return `${hours}h`;
        }
        
        // Within the last week
        if (diff < 604800000) {
          const days = Math.floor(diff / 86400000);
          return `${days}d`;
        }
        
        // Format as date
        const options = { month: 'short', day: 'numeric' };
        
        // Add year if not current year
        if (date.getFullYear() !== now.getFullYear()) {
          options.year = 'numeric';
        }
        
        return date.toLocaleDateString('en-US', options);
      }
      
      // Function to format content (convert URLs to links, etc.)
      function formatContent(content) {
        // Convert URLs to clickable links
        content = content.replace(
          /(https?:\/\/[^\s]+)/g, 
          '<a href="$1" target="_blank" style="color: #1d9bf0; text-decoration: none;">$1</a>'
        );
        
        // Convert hashtags
        content = content.replace(
          /#(\w+)/g, 
          '<a href="#" style="color: #1d9bf0; text-decoration: none;">#$1</a>'
        );
        
        // Convert mentions
        content = content.replace(
          /@(\w+)/g, 
          '<a href="#" style="color: #1d9bf0; text-decoration: none;">@$1</a>'
        );
        
        // Convert line breaks to <br>
        content = content.replace(/\n/g, '<br>');
        
        return content;
      }
      
      // Add CSS animations
      const style = document.createElement('style');
      style.textContent = `
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeOut {
          from { opacity: 1; transform: translateY(0); }
          to { opacity: 0; transform: translateY(10px); }
        }
      `;
      document.head.appendChild(style);
      
      // Add keyboard shortcut for posting (Ctrl+Enter)
      composeTextarea.addEventListener('keydown', function(e) {
        if ((e.ctrlKey || e.metaKey) && e.key === 'Enter' && !postButton.disabled) {
          postButton.click();
        }
      });
    });
  </script>
</body>
</html>